# config_depth.yaml
# History of Pretraining Phase used:
# Thermal Lidar:
# /mnt/sbackup/Server_3/harshr/home/NV_cahsor/CAHSOR-master/TRON/checkpoint/tron/
#     ssl-ptr_aug-thermal_lidar-2048-04-13-14-42/ssl-ptr_aug-thermal_lidar-2048-04-15-14-31/ssl-ptr_aug-thermal_lidar-2048-04-15-14-31_500.pth
# Thermal Lidar IMU:
# /mnt/sbackup/Server_3/harshr/home/NV_cahsor/CAHSOR-master/TRON/checkpoint/tron
#     ssl-ptr-thermal_lidar_imu_aug-2048-04-13-17-45/ssl-ptr-thermal_lidar_imu_aug-2048-04-15-01-05/ssl-ptr-thermal_lidar_imu_aug-2048-04-15-01-05_500.pth 
# Thermal Lidar IMU Elevation
#  /mnt/sbackup/Server_3/harshr/home/NV_cahsor/CAHSOR-master/TRON/checkpoint/tron/
#     ssl-ptr-thermal_lidar_imu_elev-2048-04-16-20-52/ssl-ptr-thermal_lidar_imu_elev-2048-04-18-15-08/ssl-ptr-thermal_lidar_imu_elev-2048-04-18-15-08_500.pth



# Directory settings
directory:
  model_name: null  # Will be auto-generated in the code
  save: "/mnt/sbackup/Server_3/harshr/home/NV_cahsor/CAHSOR-master/TRON/checkpoint/tron/decoder_depth_thermal_lidar_video_ckpts/depth_move_base_exp/"
  pretrained_path: /mnt/sbackup/Server_3/harshr/home/NV_cahsor/CAHSOR-master/TRON/checkpoint/tron/ssl-ptr-thermal_lidar_video_2/ssl-ptr-thermal_lidar_video_training_latest-2048-05-07-01-15/ssl-ptr-thermal_lidar_video_training_latest-2048-05-07-01-15_500.pth
  load_decoder: null  # Set this path to resume training from a checkpoint
  
# Model architecture parameters
model:
  rep_size: 2048  # Representation size (latent dimension)
  num_layers_enc: 50  # Number of layers in encoder/decoder

thMonoLoad:
  weights_path: /mnt/sbackup/Server_3/harshr/home/NV_cahsor/CAHSOR-master/TRON/checkpoint/thMonoDepth/dispnet_disp_model_best.pth.tar
  resnet_layers: 18
  scene_type: "outdoor"
  max_depth: 30

baseline_eval:
  eval_model: True

depthAnythingV2:
  depth_measurement: 'metric' 
  encoder: 'vitl'
  dataset: 'vkitti'
  max_depth: 30

# Training parameters
train_params:
  experiment_name: depth_estimation_move_base  # Will be auto-generated in the code
  epochs: 100
  device: cuda:0
  grad_clipping: 1.0
  save_every: 50  # Save checkpoint every N epochs
  optimizer: "adamw"  # Options: adamw, rmsprop, sgd
  resume_decoder: False  # Set to true to resume from a checkpoint

test_params:
  batch_size: 8
  save_individual_images: true
  colormap: "gray"
  test_output: /mnt/sbackup/Server_3/harshr/depth_test
  depth_scale: 30

# Optimizer configurations
depth_decoder_adamw:
  lr: 2e-4
  eps: 1e-8
  betas: [0.9, 0.999]
  weight_decay: 3e-5 
  amsgrad: True

rmsprop:
  lr: 1.0e-4
  weight_decay: 1.0e-4
  momentum: 0.9

sgd:
  lr: 1.0e-3
  weight_decay: 1.0e-4
  momentum: 0.9

# Scheduler parameters
scheduler:
  final_lr: 1.0e-6

# Weight initialization parameters
init_weights:
  method: "kaiming_normal"

# Dataset parameters
dataset:
  root: /mnt/sbackup/Server_3/harshr/burk_lake_additional # /mnt/sbackup/Server_3/harshr/m2p2_data # where data resides
  seed: 42 # random seed for random transformations
  stats: /mnt/sbackup/Server_3/harshr/home/NV_cahsor/CAHSOR-master/DataProcessingPipeline/imu_stats_full_data.pkl  # stats file
  frequency_rate: 200 # this is IMU frequency rate
  resize:
    - 256
    - 256

# DataLoader parameters
dataloader:
  batch_size: 128
  shuffle: true
  num_workers: 4
  pin_memory: true
  drop_last: true

# Logger parameters
logger:
  workspace: harshrangwala # workspace name
  project: ssl_thermal_lidar-depth_video # project name
  experiment_name: dtask1-depth_D1.3 # name of the experiment
  tags: "DT 500"
  resume: False # (boolean) whether to resume training or not
  online: True # (boolean) whether to store logs online or not
  experiment_key: "mqJkyVqrHSBGEt2wkbMP7wWQP" # can be retrieved from logger dashboard, available if only resuming
  api_key: "mqJkyVqrHSBGEt2wkbMP7wWQP"
  offline_directory: ./logs # where to store log data
  disabled: False # disable the comet ml
  upload_model: False # upload the model to CometML
  log_env_details: False # log virtual environment details
  auto_histogram_weight_logging: True # allows you to enable/disable histogram logging for biases and weights
  auto_histogram_gradient_logging: True # allows you to enable/disable automatic histogram logging of gradients
  auto_histogram_activation_logging: True # allows you to enable/disable automatic histogram logging of activations

# Hardware settings
device:
  gpu_ids: [0]  # List of GPU IDs to use
  use_cuda: true
  precision: "float32"  # Options: float32, float16 (for mixed precision)
